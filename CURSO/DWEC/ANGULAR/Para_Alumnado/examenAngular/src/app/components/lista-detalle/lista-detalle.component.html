<h2>Listado de detalles de la factura</h2>

<div>
    <button type="button" (click)="toggleForm()">Nuevo detalle</button>

    <br><br>

    <table border="1">
        <thead>
            <tr>
                <th>ID</th>
                <th>CANTIDAD</th>
                <th>CONCEPTO</th>
                <th>PRECIO</th>
                <th>IVA</th>
                <th>TOTAL</th>
                <th>EDITAR</th>
                <th>BORRAR</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let detalleFactura of detallesFactura">
                <td>{{detalleFactura.id}}</td>
                <td>{{detalleFactura.cantidad}}</td>
                <td>{{detalleFactura.concepto}}</td>
                <td>{{detalleFactura.precio}}</td>
                <td>{{detalleFactura.iva}}</td>
                <td>{{detalleFactura.total}}</td>
                <td><button type="button" (click)="toggleForm()">Editar</button></td>
                <td><button type="button" (click)="onClickBorrar(detalleFactura.id, detalleFactura.concepto)">Borrar</button></td>
            </tr>
            <tr>
                <td colspan="4">TOTALES</td>
                <td>{{totalesIVA}}</td>
                <td>{{totalesTotal}}</td>
            </tr>
        </tbody>
    </table>
    <br>
    <button type="button" [routerLink]="['/']">Volver atr√°s</button>
</div>

<br><br>

<div id="formDetalle" *ngIf="mostrarFormulario">
    <form #detalleForm="ngForm" (ngSubmit)="onSubmit(detalleForm.value)">
        <label for="cantidad">Cantidad: </label>
        <input type="number" id="cantidad" name="cantidad" ngModel required>

        <br><br>
      
        <label for="concepto">Concepto: </label>
        <input type="text" id="concepto" name="concepto" ngModel required>

        <br><br>
      
        <label for="precio">Precio: </label>
        <input type="number" id="precio" name="precio" ngModel required>

        <br><br>
      
        <label for="tipo_iva">Tipo IVA: </label>
        <input type="number" id="tipo_iva" name="tipo_iva" ngModel required>

        <br><br>
      
        <button type="submit" (click)="toggleForm()" [disabled]="!detalleForm.valid">{{textoBoton}}</button>
    </form>      
</div>